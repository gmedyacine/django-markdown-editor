4. Migrate Issues and Merge Requests Using the GitLab API
Issues and merge requests are not transferred through a simple Git mirror. To do this, you can use the GitLab API to export this data from the source repository and import it into the destination repository.

a. Export Issues and Merge Requests
Use the GitLab API to retrieve all issues and merge requests from the source project.

Here's an example of exporting issues:

bash
Copier le code
curl --header "PRIVATE-TOKEN: <source_token>" "https://gitlab.wisterdsp.com/api/v4/projects/<project_id>/issues" -o issues.json
And for merge requests:

bash
Copier le code
curl --header "PRIVATE-TOKEN: <source_token>" "https://gitlab.wisterdsp.com/api/v4/projects/<project_id>/merge_requests" -o mrs.json
b. Import Issues and Merge Requests into the Destination Repository
To import, read the exported JSON files and use the destination API to recreate each issue and merge request. Hereâ€™s an example of recreating an issue:

bash
Copier le code
while read issue; do
    title=$(echo $issue | jq -r '.title')
    description=$(echo $issue | jq -r '.description')
    
    curl --header "PRIVATE-TOKEN: <destination_token>" \
         --data "title=$title" --data "description=$description" \
         "https://git.fr.clara.net/api/v4/projects/<destination_project_id>/issues"
done < issues.json
